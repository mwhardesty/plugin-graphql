(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{173:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"destroy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#destroy","aria-hidden":"true"}},[t._v("#")]),t._v(" destroy")]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#destroy"}},[t._v("$destroy()")])]),s("li",[s("a",{attrs:{href:"#deleteanddestroy"}},[t._v("$deleteAndDestroy()")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"destroy-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#destroy-2","aria-hidden":"true"}},[t._v("#")]),t._v(" $destroy()")]),t._v(" "),s("p",[t._v("Last thing you can do with a record is to delete it on the server after deleting ("),s("code",[t._v("delete")]),t._v(" action) it on the client via\nVuex-ORM. For this use case we have the "),s("code",[t._v("destroy")]),t._v(" action.")]),t._v(" "),s("p",[t._v("Via calling")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" post"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("$destroy")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// or")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" post"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("$dispatch")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'destroy'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" post"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("the following GraphQL query is generated:")]),t._v(" "),s("div",{staticClass:"language-graphql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("mutation")]),t._v(" DeletePost"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token variable"}},[t._v("$id")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{attrs:{class:"token operator"}},[t._v("!")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  deletePost"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$id")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    id\n    title\n    content\n    \n    user "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      id\n      email\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("Variables:")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token property"}},[t._v('"id"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("42")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"deleteanddestroy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deleteanddestroy","aria-hidden":"true"}},[t._v("#")]),t._v(" $deleteAndDestroy()")]),t._v(" "),s("p",[t._v("You can also use the "),s("code",[t._v("$deleteAndDestroy()")]),t._v(" action to delete the record from the store and from the server. It's just a\nshort convenience method for "),s("code",[t._v("$delete()")]),t._v(" and "),s("code",[t._v("$destroy()")]),t._v(".")])])}],!1,null,null,null);a.default=e.exports}}]);